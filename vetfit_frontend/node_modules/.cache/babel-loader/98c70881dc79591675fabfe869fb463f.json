{"ast":null,"code":"var _jsxFileName = \"/Users/aidanmatchette/dev/projects/vetfit_frontend/src/components/SelectedPortfolio/SelectedPortfolio.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport cryptoMagicAPI from '../../api/cryptoAPI';\nimport dashboardAPI from '../../api/dashboardAPI';\nimport { CryptoState } from '../../Context';\nimport Coin from '../Coin/Coin';\nimport DeleteForeverRoundedIcon from '@mui/icons-material/DeleteForeverRounded';\nimport { Pagination, Tooltip } from '@mui/material';\nimport './selectedportfolio.css';\nimport Search from '../Search/Search';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SelectedPortfolio = _ref => {\n  _s();\n\n  let {\n    selectedPortfolio,\n    setSelectedPortfolio\n  } = _ref;\n  const {\n    currency,\n    search,\n    setSearch\n  } = CryptoState();\n  const [holdings, setHoldings] = useState([]);\n  const [portfolioCoins, setPortfolioCoins] = useState([]);\n  const [pageNum, setPageNum] = useState(1);\n  useEffect(() => {\n    setSearch('');\n  }, []);\n  useEffect(() => {\n    setPortfolioCoins([]);\n\n    if (selectedPortfolio != 'None') {\n      getPortfolioHoldings(selectedPortfolio);\n    }\n  }, [selectedPortfolio]);\n  useEffect(() => {\n    if (holdings.length > 0) {\n      getPortfolioCoins();\n    }\n  }, [holdings]);\n\n  const getPortfolioHoldings = async portfolioId => {\n    const data = await cryptoMagicAPI.getPortfolioHoldings(portfolioId);\n\n    if (data) {\n      setHoldings(data.holdings);\n    }\n  };\n\n  console.log('holdings', holdings);\n\n  const handlePageChange = (event, value) => {\n    setPageNum(value);\n    window.scrollTo({\n      top: 400,\n      left: 400,\n      behavior: 'smooth'\n    });\n  };\n\n  const getPortfolioCoins = async () => {\n    for (let coin of holdings) {\n      const data = await dashboardAPI.getCoin(coin.coin_id);\n\n      if (data) {\n        setPortfolioCoins(prev => [...prev, data]);\n      }\n    }\n  };\n\n  const handleDelete = async holdingsIndex => {\n    const data = await cryptoMagicAPI.deleteHoldingById(holdings[holdingsIndex].id);\n\n    if (data) {\n      setPortfolioCoins([]);\n      getPortfolioHoldings(selectedPortfolio);\n    }\n  };\n\n  const searchCoins = portfolioCoins.slice((pageNum - 1) * 10, (pageNum - 1) * 10 + 10).filter(coin => {\n    return coin.name.toLowerCase().includes(search.toLowerCase());\n  });\n  const filteredCoins = searchCoins === null || searchCoins === void 0 ? void 0 : searchCoins.map((coin, index) => {\n    var _coin$market_data, _coin$market_data2, _coin$market_data3;\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"selected-portfolio\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"portfolio-banner\",\n        children: /*#__PURE__*/_jsxDEV(Coin, {\n          name: coin.name,\n          coinAbbr: coin.symbol,\n          image: coin.image.small,\n          price: (_coin$market_data = coin.market_data) === null || _coin$market_data === void 0 ? void 0 : _coin$market_data.current_price[currency],\n          id: coin.id,\n          market_cap: (_coin$market_data2 = coin.market_data) === null || _coin$market_data2 === void 0 ? void 0 : _coin$market_data2.market_cap[currency],\n          percentChange: (_coin$market_data3 = coin.market_data) === null || _coin$market_data3 === void 0 ? void 0 : _coin$market_data3.price_change_percentage_24h_in_currency[currency]\n        }, `${coin.id}-${index}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"delete-btn\",\n        children: /*#__PURE__*/_jsxDEV(Tooltip, {\n          disableFocusListener: true,\n          disableTouchListener: true,\n          title: \"Delete from portfolio\",\n          children: /*#__PURE__*/_jsxDEV(DeleteForeverRoundedIcon, {\n            size: \"large\",\n            variant: \"contained\",\n            onClick: () => handleDelete(index),\n            sx: {\n              color: 'purple',\n              \":hover\": {\n                color: '#b93dfc',\n                cursor: 'pointer'\n              },\n              fontSize: 60,\n              alignContent: 'center',\n              display: 'flex',\n              alignItems: 'center'\n            },\n            disableElevation: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-portfolio\",\n      children: selectedPortfolio != 'None' && /*#__PURE__*/_jsxDEV(Search, {\n        setSearch: setSearch,\n        variant: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 49\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"portfolio-coins\",\n      children: [filteredCoins, /*#__PURE__*/_jsxDEV(Pagination, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'center',\n          width: \"100%\",\n          height: 60\n        },\n        size: \"large\",\n        count: (portfolioCoins.length / 10).toFixed(0),\n        onChange: handlePageChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SelectedPortfolio, \"nEF8LqjrmC+mHptAj9oPheCDlrs=\");\n\n_c = SelectedPortfolio;\nexport default SelectedPortfolio;\n\nvar _c;\n\n$RefreshReg$(_c, \"SelectedPortfolio\");","map":{"version":3,"sources":["/Users/aidanmatchette/dev/projects/vetfit_frontend/src/components/SelectedPortfolio/SelectedPortfolio.js"],"names":["React","useEffect","useState","cryptoMagicAPI","dashboardAPI","CryptoState","Coin","DeleteForeverRoundedIcon","Pagination","Tooltip","Search","SelectedPortfolio","selectedPortfolio","setSelectedPortfolio","currency","search","setSearch","holdings","setHoldings","portfolioCoins","setPortfolioCoins","pageNum","setPageNum","getPortfolioHoldings","length","getPortfolioCoins","portfolioId","data","console","log","handlePageChange","event","value","window","scrollTo","top","left","behavior","coin","getCoin","coin_id","prev","handleDelete","holdingsIndex","deleteHoldingById","id","searchCoins","slice","filter","name","toLowerCase","includes","filteredCoins","map","index","symbol","image","small","market_data","current_price","market_cap","price_change_percentage_24h_in_currency","color","cursor","fontSize","alignContent","display","alignItems","justifyContent","width","height","toFixed"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport cryptoMagicAPI from '../../api/cryptoAPI'\nimport dashboardAPI from '../../api/dashboardAPI';\nimport { CryptoState } from '../../Context';\nimport Coin from '../Coin/Coin';\nimport DeleteForeverRoundedIcon from '@mui/icons-material/DeleteForeverRounded';\nimport { Pagination, Tooltip } from '@mui/material';\nimport './selectedportfolio.css'\nimport Search from '../Search/Search';\n\nconst SelectedPortfolio = ({selectedPortfolio, setSelectedPortfolio}) => {\n\n    const {currency, search, setSearch} = CryptoState();\n\n    const [holdings, setHoldings] = useState([]);\n    const [portfolioCoins, setPortfolioCoins] = useState([])\n    const [pageNum, setPageNum] = useState(1)\n\n\n    useEffect(() => {\n        setSearch('')\n    },[])\n\n    useEffect(() => {\n        setPortfolioCoins([])\n        if(selectedPortfolio != 'None') {\n            getPortfolioHoldings(selectedPortfolio)  \n        }\n    }, [selectedPortfolio])\n\n    useEffect(() => {\n        if(holdings.length > 0) {\n            getPortfolioCoins()\n        }\n    }, [holdings])\n\n    const getPortfolioHoldings = async (portfolioId) => {\n        const data = await cryptoMagicAPI.getPortfolioHoldings(portfolioId)\n        if (data) {\n            setHoldings(data.holdings)\n        }\n    }\n    console.log('holdings',holdings)\n\n\n    const handlePageChange = (event, value) => {\n        setPageNum(value)\n        window.scrollTo({\n          top: 400,\n          left: 400,\n          behavior: 'smooth'\n        })\n      } \n\n    const getPortfolioCoins = async () => {\n        for (let coin of holdings) {\n            const data = await dashboardAPI.getCoin(coin.coin_id)\n            if (data) {\n                setPortfolioCoins((prev) => [...prev, data])\n            }\n        }\n    }\n\n\n    const handleDelete = async (holdingsIndex) => {\n        const data = await cryptoMagicAPI.deleteHoldingById(holdings[holdingsIndex].id)\n        if(data) {\n            setPortfolioCoins([])\n\n            getPortfolioHoldings(selectedPortfolio)            \n        }\n    }\n    const searchCoins = portfolioCoins.slice((pageNum - 1) * 10, (pageNum - 1) * 10 + 10).filter(coin => {\n        return coin.name.toLowerCase().includes(search.toLowerCase())\n      })\n\n    const filteredCoins = searchCoins?.map((coin,index) => {\n        return (\n            <div className='selected-portfolio'>\n                <div className='portfolio-banner'>\n                    <Coin key={`${coin.id}-${index}`} name={coin.name} coinAbbr={coin.symbol} image={coin.image.small} \n                    price={coin.market_data?.current_price[currency]} id={coin.id} market_cap={coin.market_data?.market_cap[currency]} percentChange={coin.market_data?.price_change_percentage_24h_in_currency[currency]}/>\n                </div> \n                <div className='delete-btn' >\n                    <Tooltip disableFocusListener \n                    disableTouchListener title=\"Delete from portfolio\">\n                    <DeleteForeverRoundedIcon size='large'\n                    variant=\"contained\" onClick={() => handleDelete(index)}\n                    sx={{color: 'purple', \":hover\": {color: '#b93dfc', cursor: 'pointer'}, fontSize: 60, alignContent: 'center', display: 'flex', alignItems: 'center'}} \n                    disableElevation></DeleteForeverRoundedIcon>\n                    </Tooltip>\n                </div>   \n\n            </div>\n\n        )\n      })\n    return (\n        <div>\n            <div className='search-portfolio' >\n                {selectedPortfolio != 'None' && <Search setSearch={setSearch} variant='primary' />}\n            </div>\n            <div className='portfolio-coins'>\n                {filteredCoins}\n                <Pagination sx={{display: 'flex', justifyContent: 'center', width: \"100%\", height: 60}} \n                size='large' \n                count={(portfolioCoins.length/10).toFixed(0)}\n                onChange={handlePageChange}/>\n            </div>\n        </div>\n    )\n}\n\nexport default SelectedPortfolio"]},"metadata":{},"sourceType":"module"}