{"ast":null,"code":"var _jsxFileName = \"/Users/aidanmatchette/dev/projects/vetfit_frontend/src/pages/Dashboard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './css/dashboard.css';\nimport Search from '../components/Search/Search';\nimport Coin from '../components/Coin/Coin';\nimport dashboardAPI from '../api/dashboardAPI.js';\nimport Carousell from '../components/Carousell/Carousell';\nimport { CryptoState } from '../Context';\nimport { Pagination } from '@mui/material';\nimport LoadingDashboard from '../components/LoadingDashboard'; // main dashboard url, eventualy change to be able to switch market.\n// https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=10&page=1&sparkline=false\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Dashboard = () => {\n  _s();\n\n  const [allCoins, setAllCoins] = useState([]);\n  const [trendingCoins, setTrendingCoins] = useState([]); // const [search, setSearch] = useState('')\n\n  const [pageNum, setPageNum] = useState(1);\n  const {\n    currency,\n    search,\n    setSearch\n  } = CryptoState();\n  useEffect(() => {\n    generateAllCoins();\n    generateTrendingCoins();\n    setSearch('');\n  }, []);\n  useEffect(() => {\n    generateAllCoins();\n    generateTrendingCoins();\n  }, [currency]);\n\n  const generateTrendingCoins = async () => {\n    const data = await dashboardAPI.getTrendingDashboard(currency);\n    setTrendingCoins(data ? data : []);\n  };\n\n  const generateAllCoins = async () => {\n    const data = await dashboardAPI.getDashboard(currency);\n    setAllCoins(data ? data : []);\n  };\n\n  const searchCoins = allCoins.filter(coin => {\n    return coin.name.toLowerCase().includes(search.toLowerCase());\n  });\n  const filteredCoins = searchCoins.slice((pageNum - 1) * 10, (pageNum - 1) * 10 + 10).map((coin, index) => {\n    return /*#__PURE__*/_jsxDEV(Coin, {\n      name: coin.name,\n      coinAbbr: coin.symbol,\n      image: coin.image,\n      price: coin.current_price,\n      id: coin.id,\n      market_cap: coin.market_cap,\n      percentChange: coin.price_change_percentage_24h\n    }, `${coin.id}-${index}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  });\n\n  const handlePageChange = (event, value) => {\n    setPageNum(value);\n    window.scrollTo({\n      top: 400,\n      left: 400,\n      behavior: 'smooth'\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-main\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"carousell\",\n      children: /*#__PURE__*/_jsxDEV(Carousell, {\n        trendingCoins: trendingCoins,\n        setTrendingCoins: setTrendingCoins\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-search\",\n      children: /*#__PURE__*/_jsxDEV(Search, {\n        setSearch: setSearch,\n        variant: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"coin-banners\",\n      children: filteredCoins\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        width: \"100%\",\n        height: 60\n      },\n      size: \"large\",\n      count: (allCoins.length / 10).toFixed(0),\n      onChange: handlePageChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Dashboard, \"XGzKMjXkrP2csvk8ieo9Ru6v00w=\");\n\n_c = Dashboard;\nexport default Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"sources":["/Users/aidanmatchette/dev/projects/vetfit_frontend/src/pages/Dashboard.js"],"names":["React","useState","useEffect","axios","Search","Coin","dashboardAPI","Carousell","CryptoState","Pagination","LoadingDashboard","Dashboard","allCoins","setAllCoins","trendingCoins","setTrendingCoins","pageNum","setPageNum","currency","search","setSearch","generateAllCoins","generateTrendingCoins","data","getTrendingDashboard","getDashboard","searchCoins","filter","coin","name","toLowerCase","includes","filteredCoins","slice","map","index","symbol","image","current_price","id","market_cap","price_change_percentage_24h","handlePageChange","event","value","window","scrollTo","top","left","behavior","display","justifyContent","width","height","length","toFixed"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport axios from 'axios'\nimport './css/dashboard.css'\nimport Search from '../components/Search/Search'\nimport Coin from '../components/Coin/Coin'\nimport dashboardAPI from '../api/dashboardAPI.js'\nimport Carousell from '../components/Carousell/Carousell'\nimport { CryptoState } from '../Context'\nimport { Pagination } from '@mui/material'\nimport LoadingDashboard from '../components/LoadingDashboard'\n\n// main dashboard url, eventualy change to be able to switch market.\n// https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=10&page=1&sparkline=false\n\nconst Dashboard = () => {\n  const [allCoins, setAllCoins] = useState([])\n  const [trendingCoins, setTrendingCoins] = useState([])\n  // const [search, setSearch] = useState('')\n  const [pageNum, setPageNum] = useState(1)\n  \n  const {currency, search, setSearch} = CryptoState();\n  \n  useEffect(() => {\n    generateAllCoins()\n    generateTrendingCoins()\n    setSearch('')\n      \n  },[]);\n\n  useEffect(() => {\n    generateAllCoins()\n    generateTrendingCoins()\n  },[currency])\n\n  const generateTrendingCoins = async () => {\n    const data = await dashboardAPI.getTrendingDashboard(currency)\n    setTrendingCoins(data ? data : [])\n  }\n\n  const generateAllCoins = async () => {\n    const data = await dashboardAPI.getDashboard(currency)\n    setAllCoins(data ? data : [])\n  } \n\n  const searchCoins = allCoins.filter(coin => {\n    return coin.name.toLowerCase().includes(search.toLowerCase())\n  })\n\n  const filteredCoins = searchCoins.slice((pageNum - 1) * 10, (pageNum - 1) * 10 + 10).map((coin,index) => {\n    return (\n      <Coin key={`${coin.id}-${index}`} name={coin.name} coinAbbr={coin.symbol} image={coin.image} price={coin.current_price} id={coin.id} market_cap={coin.market_cap} percentChange={coin.price_change_percentage_24h}/>\n    )\n  })\n  const handlePageChange = (event, value) => {\n    setPageNum(value)\n    window.scrollTo({\n      top: 400,\n      left: 400,\n      behavior: 'smooth'\n    })\n  } \n\n  return (\n    <div className='dashboard-main'>\n      <div className='carousell'>\n        <Carousell trendingCoins={trendingCoins} setTrendingCoins={setTrendingCoins} />\n\n      </div>\n      <div className='dashboard-search'>\n        <Search setSearch={setSearch} variant='primary' />\n      </div>\n      <div className='coin-banners'>\n        {filteredCoins}\n      </div>\n      <Pagination sx={{display: 'flex', justifyContent: 'center', width: \"100%\", height: 60}} \n        size='large' \n        count={(allCoins.length/10).toFixed(0)}\n        onChange={handlePageChange}/>\n    </div>\n  )\n}\n\nexport default Dashboard"]},"metadata":{},"sourceType":"module"}